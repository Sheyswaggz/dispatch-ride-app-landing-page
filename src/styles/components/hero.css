/**
 * Hero Section Component Styles
 * 
 * Implements a responsive hero section with app showcase, compelling copy,
 * and prominent download CTAs. Optimized for performance and accessibility.
 * 
 * Features:
 * - Mobile-first responsive design with CSS Grid
 * - Fluid typography and spacing
 * - Optimized image display with aspect ratio preservation
 * - Interactive button states with smooth transitions
 * - Accessibility-first focus states
 * - Performance optimizations (contain, will-change)
 * 
 * BEM Naming Convention:
 * - Block: .hero
 * - Elements: .hero__content, .hero__image, .hero__buttons, etc.
 * - Modifiers: .hero--loading, .hero__button--primary, etc.
 */

/* ============================================
   HERO SECTION BASE STYLES
   ============================================ */

.hero {
  /* Layout */
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-8);
  align-items: center;
  
  /* Spacing */
  padding-block: var(--space-16);
  padding-inline: var(--container-padding-mobile);
  
  /* Minimum height for above-the-fold presence */
  min-height: var(--hero-min-height-mobile);
  
  /* Background */
  background: linear-gradient(
    135deg,
    var(--color-surface-primary) 0%,
    var(--color-primary-50) 100%
  );
  
  /* Performance optimization */
  contain: layout style paint;
  
  /* Positioning context for absolute children */
  position: relative;
  overflow: hidden;
}

/* Optional decorative background pattern */
.hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(
    circle at 20% 50%,
    var(--color-primary-100) 0%,
    transparent 50%
  );
  opacity: 0.4;
  z-index: 0;
  pointer-events: none;
}

/* Ensure content is above background decoration */
.hero > * {
  position: relative;
  z-index: 1;
}

/* ============================================
   HERO CONTENT CONTAINER
   ============================================ */

.hero__content {
  /* Layout */
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
  
  /* Alignment */
  text-align: center;
  align-items: center;
  
  /* Max width for optimal reading */
  max-width: 100%;
}

/* ============================================
   HERO TYPOGRAPHY
   ============================================ */

.hero__headline {
  /* Typography */
  font-size: var(--font-size-3xl);
  font-weight: var(--font-weight-extrabold);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tight);
  
  /* Color */
  color: var(--color-text-primary);
  
  /* Spacing */
  margin-block-start: 0;
  margin-block-end: var(--space-4);
  
  /* Text balance for better line breaks */
  text-wrap: balance;
  
  /* Gradient text effect (optional enhancement) */
  background: linear-gradient(
    135deg,
    var(--color-primary-700) 0%,
    var(--color-primary-500) 100%
  );
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  
  /* Fallback for browsers without background-clip support */
  @supports not (background-clip: text) {
    background: none;
    -webkit-text-fill-color: initial;
    color: var(--color-primary-700);
  }
}

.hero__subheadline {
  /* Typography */
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-normal);
  line-height: var(--line-height-relaxed);
  
  /* Color */
  color: var(--color-text-secondary);
  
  /* Spacing */
  margin-block-start: 0;
  margin-block-end: var(--space-6);
  
  /* Max width for readability */
  max-width: 60ch;
}

/* ============================================
   HERO IMAGE CONTAINER
   ============================================ */

.hero__image-container {
  /* Layout */
  display: flex;
  justify-content: center;
  align-items: center;
  
  /* Sizing */
  width: 100%;
  max-width: 100%;
  
  /* Aspect ratio preservation */
  aspect-ratio: 9 / 16;
  
  /* Performance optimization */
  contain: layout style paint;
  
  /* Smooth rendering */
  transform: translateZ(0);
  will-change: transform;
}

.hero__image {
  /* Sizing */
  width: 100%;
  height: auto;
  max-width: 400px;
  
  /* Display */
  display: block;
  
  /* Image rendering */
  object-fit: contain;
  object-position: center;
  
  /* Smooth edges */
  border-radius: var(--radius-lg);
  
  /* Shadow for depth */
  box-shadow: var(--shadow-xl);
  
  /* Transition for loading state */
  opacity: 1;
  transition: opacity var(--transition-base);
  
  /* Performance hint */
  transform: translateZ(0);
}

/* Loading state */
.hero__image[data-loading="true"] {
  opacity: 0.5;
  filter: blur(8px);
}

/* Image loaded state */
.hero__image[data-loaded="true"] {
  animation: fade-in-scale var(--transition-slow) var(--ease-out) forwards;
}

@keyframes fade-in-scale {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* ============================================
   DOWNLOAD BUTTONS CONTAINER
   ============================================ */

.hero__buttons {
  /* Layout */
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  
  /* Alignment */
  align-items: center;
  justify-content: center;
  
  /* Full width on mobile */
  width: 100%;
  max-width: 100%;
}

/* ============================================
   DOWNLOAD BUTTON STYLES
   ============================================ */

.hero__button {
  /* Reset button styles */
  appearance: none;
  border: none;
  background: none;
  
  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3);
  
  /* Sizing */
  width: 100%;
  max-width: 280px;
  min-height: 56px;
  
  /* Spacing */
  padding: var(--space-4) var(--space-6);
  
  /* Typography */
  font-family: var(--font-family-primary);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  text-decoration: none;
  text-align: center;
  
  /* Border */
  border-radius: var(--radius-lg);
  
  /* Transition */
  transition: all var(--transition-base);
  
  /* Cursor */
  cursor: pointer;
  
  /* Performance optimization */
  transform: translateZ(0);
  will-change: transform, box-shadow;
  
  /* Prevent text selection */
  user-select: none;
  -webkit-user-select: none;
  
  /* Touch optimization */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* Primary button (iOS App Store) */
.hero__button--primary {
  background: var(--color-primary-600);
  color: var(--color-text-inverse);
  box-shadow: var(--shadow-md);
}

.hero__button--primary:hover {
  background: var(--color-primary-700);
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

.hero__button--primary:active {
  background: var(--color-primary-800);
  box-shadow: var(--shadow-base);
  transform: translateY(0);
}

/* Secondary button (Google Play Store) */
.hero__button--secondary {
  background: var(--color-neutral-900);
  color: var(--color-text-inverse);
  box-shadow: var(--shadow-md);
}

.hero__button--secondary:hover {
  background: var(--color-neutral-800);
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

.hero__button--secondary:active {
  background: var(--color-neutral-1000);
  box-shadow: var(--shadow-base);
  transform: translateY(0);
}

/* Focus state for keyboard navigation */
.hero__button:focus {
  outline: none;
}

.hero__button:focus-visible {
  outline: 3px solid var(--color-border-focus);
  outline-offset: 3px;
  box-shadow: var(--shadow-focus);
}

/* Disabled state */
.hero__button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

/* ============================================
   BUTTON ICONS
   ============================================ */

.hero__button-icon {
  /* Sizing */
  width: 24px;
  height: 24px;
  
  /* Display */
  display: inline-block;
  flex-shrink: 0;
  
  /* Alignment */
  vertical-align: middle;
}

/* ============================================
   RESPONSIVE DESIGN - TABLET
   ============================================ */

@media (min-width: 768px) {
  .hero {
    /* Spacing */
    padding-block: var(--space-20);
    padding-inline: var(--container-padding-tablet);
    
    /* Grid layout for side-by-side content */
    grid-template-columns: 1fr 1fr;
    gap: var(--space-12);
    
    /* Minimum height */
    min-height: var(--hero-min-height-desktop);
  }
  
  .hero__content {
    /* Alignment */
    text-align: left;
    align-items: flex-start;
    
    /* Max width */
    max-width: 600px;
  }
  
  .hero__headline {
    font-size: var(--font-size-4xl);
  }
  
  .hero__subheadline {
    font-size: var(--font-size-xl);
  }
  
  .hero__image-container {
    /* Aspect ratio for tablet */
    aspect-ratio: 3 / 4;
  }
  
  .hero__image {
    max-width: 500px;
  }
  
  .hero__buttons {
    /* Horizontal layout on tablet */
    flex-direction: row;
    justify-content: flex-start;
    gap: var(--space-4);
  }
  
  .hero__button {
    /* Auto width on tablet */
    width: auto;
    min-width: 200px;
  }
}

/* ============================================
   RESPONSIVE DESIGN - DESKTOP
   ============================================ */

@media (min-width: 1024px) {
  .hero {
    /* Spacing */
    padding-block: var(--space-24);
    padding-inline: var(--container-padding-desktop);
    
    /* Grid layout with more space */
    gap: var(--space-16);
    
    /* Container constraint */
    max-width: var(--container-wide);
    margin-inline: auto;
  }
  
  .hero__content {
    max-width: 650px;
  }
  
  .hero__image {
    max-width: 600px;
  }
  
  .hero__buttons {
    gap: var(--space-5);
  }
  
  .hero__button {
    min-width: 220px;
  }
}

/* ============================================
   RESPONSIVE DESIGN - WIDE SCREENS
   ============================================ */

@media (min-width: 1440px) {
  .hero {
    max-width: var(--container-max);
    gap: var(--space-20);
  }
  
  .hero__content {
    max-width: 700px;
  }
  
  .hero__image {
    max-width: 700px;
  }
}

/* ============================================
   ACCESSIBILITY ENHANCEMENTS
   ============================================ */

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .hero__image,
  .hero__button {
    animation: none !important;
    transition-duration: 0.01ms !important;
  }
  
  .hero__button:hover {
    transform: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .hero__button {
    border: 2px solid currentColor;
  }
  
  .hero__button:focus-visible {
    outline-width: 4px;
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .hero {
    background: linear-gradient(
      135deg,
      var(--color-surface-primary) 0%,
      var(--color-neutral-800) 100%
    );
  }
  
  .hero::before {
    background-image: radial-gradient(
      circle at 20% 50%,
      var(--color-primary-900) 0%,
      transparent 50%
    );
  }
  
  .hero__headline {
    background: linear-gradient(
      135deg,
      var(--color-primary-400) 0%,
      var(--color-primary-300) 100%
    );
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  
  .hero__image {
    box-shadow: var(--shadow-2xl);
  }
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  .hero {
    background: white;
    min-height: auto;
    padding-block: var(--space-8);
    page-break-inside: avoid;
  }
  
  .hero::before {
    display: none;
  }
  
  .hero__buttons {
    display: none;
  }
  
  .hero__image {
    box-shadow: none;
    max-width: 400px;
  }
}

/* ============================================
   LOADING STATE
   ============================================ */

.hero--loading {
  pointer-events: none;
}

.hero--loading .hero__content {
  opacity: 0.6;
}

.hero--loading .hero__image-container::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--color-neutral-200) 50%,
    transparent 100%
  );
  animation: loading-shimmer 1.5s infinite;
}

@keyframes loading-shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* ============================================
   FEATURE FLAG SUPPORT
   ============================================ */

.hero[data-feature-flag="off"] {
  display: none;
}